@model Maps.Entities.DetailsLayerViewModel

<div id="@string.Concat("collapse", Model.Id)" class="collapse card" aria-labelledby="@string.Concat("heading", Model.Id)" @*data-parent="#accordion"*@>
    <div class="card-body">
        @if (Model.HasData)
        {
            @Model.Id
            @Model.MapId
        }
        else
        {
            //using (Html.BeginForm("LoadData", "Layer", null, FormMethod.Post, new { role = "form", enctype = "multipart/form-data" }))

            using (Ajax.BeginForm("LoadData", "Layer", null, new AjaxOptions { HttpMethod = "post", UpdateTargetId = string.Concat("layer", Model.Id), InsertionMode = InsertionMode.ReplaceWith }, new { enctype = "multipart/form-data", id = string.Concat("upload", Model.Id) }))
            {
                <span>File</span>
                @Html.AntiForgeryToken()
                @Html.HiddenFor(m => m.Name)
                @Html.HiddenFor(m => m.HasData)
                <input type="hidden" id="Id" name="Id" value="@Model.Id" />
                <input type="hidden" id="MapId" name="MapId" value="@Model.MapId" />
                <input type="file" name="DataFile" id="DataFile" required />
                <input type="submit" value="Load" class="btn btn-link" />
            }
        }
    </div>
</div>

